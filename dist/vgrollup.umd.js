// @vegas-VGRollup v1.0.7
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r=function(){function t(e,n,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e||void 0,this.classes={hidden:"vg-rollup-content--hidden",fade:"vg-rollup-content--fade",ellipsis:"vg-rollup-content--ellipsis",button:"vg-rollup-content--button",transition:"vg-rollup-content--transition"},this.settings=o({fade:!0,transition:!1,ellipsis:{line:null},button:!0,buttonText:{more:"More",less:"Less"}},n),this.target){var s=document.getElementById(this.target);this.init(s);var r=document.querySelector('[data-rollup-toggle="'+this.target+'"]');r&&this.toggle(r,i)}else console.error("Initialization failed")}var e,i,s;return e=t,i=[{key:"init",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.clientHeight,i=parseInt(t.dataset.height)||n/2,s="false"!==t.dataset.fade&&this.settings.fade,r="true"===t.dataset.transition||this.settings.transition,o=t.dataset.line||null!==this.settings.ellipsis.line,a="false"!==t.dataset.button&&this.settings.button;if(e||this.switch(t),n>i){if(t.classList.add(this.classes.hidden),t.style.height=i+"px",o){var l=t.dataset.line||this.settings.ellipsis.line;s=!1,l?(t.classList.add(this.classes.ellipsis),t.style.webkitLineClamp=l):console.log("The [data-line] or param[line] variable should not be empty")}if(r&&t.classList.add(this.classes.transition),s&&t.classList.add(this.classes.fade),e&&(t.setAttribute("id",this.target),a)){var u=t.dataset.buttonMore||this.settings.buttonText.more;t.insertAdjacentHTML("afterend",'<div  class="'+this.classes.button+'"><a href="#" aria-expanded="false" data-rollup-toggle="'+this.target+'">'+u+"</a></div>")}}}},{key:"switch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this.init(t,!1):(t.classList.remove(this.classes.hidden),t.classList.remove(this.classes.ellipsis),t.classList.remove(this.classes.fade),t.removeAttribute("style"))}},{key:"toggle",value:function(t,e){var n=this;t.onclick=function(t){var e=t.target,i=e.dataset.rollupToggle,s=e.getAttribute("aria-expanded"),r=document.getElementById(i);return"false"===s?(e.setAttribute("aria-expanded",!0),e.text=r.dataset.buttonLess||n.settings.buttonText.less,n.switch(r,!1)):(e.setAttribute("aria-expanded",!1),e.text=r.dataset.buttonMore||n.settings.buttonText.more,n.switch(r,!0)),!1}}}],i&&n(e.prototype,i),s&&n(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(){for(var t=function(t){return t&&"object"===e(t)},n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return s.reduce((function(e,n){return Object.keys(n).forEach((function(s){var r=e[s],a=n[s];Array.isArray(r)&&Array.isArray(a)?e[s]=r.concat.apply(r,i(a)):t(r)&&t(a)?e[s]=o(r,a):e[s]=a})),e}),{})}t.VGRollup=r}));
