var vg;(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function s(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,i)=>(Object.keys(i).forEach((n=>{const a=t[n],l=i[n];Array.isArray(a)&&Array.isArray(l)?t[n]=a.concat(...l):e(a)&&e(l)?t[n]=s(a,l):t[n]=l})),t)),{})}t.r(e),t.d(e,{VGRollup:()=>i});const i=class{constructor(t,e,i){if(this.target=t||void 0,this.classes={hidden:"vg-rollup-content--hidden",fade:"vg-rollup-content--fade",ellipsis:"vg-rollup-content--ellipsis",button:"vg-rollup-content--button",transition:"vg-rollup-content--transition"},this.total=0,this.count=0,this.settings=s({content:"text",fade:!0,transition:!1,ellipsis:{line:null},button:!0,showNum:!1,showNumText:" more ",buttonText:{more:"Show",less:"Hide"}},e),this.target){let t=document.getElementById(this.target);this.init(t);let e=document.querySelector('[data-rollup-toggle="'+this.target+'"]');e&&this.toggle(e,i)}else console.error("Initialization failed")}init(t,e=!0){let s=this,i=t.clientHeight,n=parseInt(t.dataset.height)||i/2,a="false"!==t.dataset.fade&&s.settings.fade,l="true"===t.dataset.transition||s.settings.transition,o=t.dataset.line||null!==s.settings.ellipsis.line,r="false"!==t.dataset.button&&s.settings.button,d="true"===t.dataset.showNum||s.settings.showNum;if(e||s.switch(t),i>n&&"text"===s.settings.content)t.classList.add(s.classes.hidden),t.style.height=n+"px",c(),u(),g(),h();else if("elements"===s.settings.content){let e=t.dataset.elements||"item",i=t.querySelectorAll("."+e),n=Number(t.dataset.cnt)||5,a=1;s.total=i.length,s.count=n;for(const t of i)a>n&&t.classList.add("d-none"),a++;!0===r&&(r=a-1>n),c(),u(),g(),h()}function c(){if(o){let e=t.dataset.line||s.settings.ellipsis.line;a=!1,e?(t.classList.add(s.classes.ellipsis),t.style.webkitLineClamp=e):console.log("The [data-line] or param[line] variable should not be empty")}}function u(){l&&t.classList.add(s.classes.transition)}function g(){a&&t.classList.add(s.classes.fade)}function h(){if(e&&(t.setAttribute("id",s.target),r)){let e="";if(d){let i=s.total-s.count;i>0&&(e=(t.dataset.showNumText||s.settings.showNumText)+i)}let i=t.dataset.buttonMore||s.settings.buttonText.more;t.insertAdjacentHTML("afterend",'<div  class="'+s.classes.button+'"><a href="#" aria-expanded="false" data-rollup-toggle="'+s.target+'">'+i+e+"</a></div>")}}}switch(t,e=!1){if(e)this.init(t,!1);else if(t.classList.remove(this.classes.hidden),t.classList.remove(this.classes.ellipsis),t.classList.remove(this.classes.fade),t.removeAttribute("style"),"elements"===this.settings.content){let e=t.dataset.elements,s=[...t.querySelectorAll("."+e)];s.length&&s.forEach((t=>t.classList.remove("d-none")))}}toggle(t,e){let s=this;t.onclick=function(t){let e=t.target,i=e.dataset.rollupToggle,n=e.getAttribute("aria-expanded"),a=document.getElementById(i);if("false"===n)e.setAttribute("aria-expanded",!0),e.text=a.dataset.buttonLess||s.settings.buttonText.less,s.switch(a,!1);else{let t="";if("true"===a.dataset.showNum||s.settings.showNum){let e=s.total-s.count;e>0&&(t=(a.dataset.showNumText||s.settings.showNumText)+e)}e.setAttribute("aria-expanded",!1),e.text=(a.dataset.buttonMore||s.settings.buttonText.more)+t,s.switch(a,!0)}return!1}}};vg=e})();
//# sourceMappingURL=vgrollup.js.map