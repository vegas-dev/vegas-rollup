"use strict";class VGRollup{constructor(a,b,c){if(this.target=a||void 0,this.classes={hidden:"vg-rollup-content--hidden",fade:"vg-rollup-content--fade",ellipsis:"vg-rollup-content--ellipsis",button:"vg-rollup-content--button",transition:"vg-rollup-content--transition"},this.settings=Object.assign({fade:!0,transition:!1,ellipsis:{line:null},button:!0,buttonText:{more:"More",less:"Less"}},b),this.target){var d=document.getElementById(this.target);this.init(d);var e=document.querySelector("[data-rollup-toggle=\""+this.target+"\"]");e&&this.toggle(e,c)}else console.error("Initialization failed")}init(a){var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],c=a.clientHeight,d=a.dataset.height||c/2,e="false"!==a.dataset.fade&&this.settings.fade,f="true"===a.dataset.transition||this.settings.transition,g=a.dataset.line||null!==this.settings.ellipsis.line,h="false"!==a.dataset.button&&this.settings.button;if(b||this.switch(a),c>d){if(a.classList.add(this.classes.hidden),a.style.height=d+"px",g){var i=a.dataset.line||this.settings.ellipsis.line;e=!1,i?(a.classList.add(this.classes.ellipsis),a.style.webkitLineClamp=i):console.log("The [data-line] or param[line] variable should not be empty")}if(f&&a.classList.add(this.classes.transition),e&&a.classList.add(this.classes.fade),b&&(a.setAttribute("id",this.target),h)){var j=a.dataset.buttonMore||this.settings.buttonText.more;a.insertAdjacentHTML("afterend","<div  class=\""+this.classes.button+"\"><a href=\"#\" aria-expanded=\"false\" data-rollup-toggle=\""+this.target+"\">"+j+"</a></div>")}}}switch(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];b?this.init(a,!1):(a.classList.remove(this.classes.hidden),a.classList.remove(this.classes.ellipsis),a.classList.remove(this.classes.fade),a.removeAttribute("style"))}toggle(a){var b=this;a.onclick=function(a){var c=a.target,d=c.dataset.rollupToggle,e=c.getAttribute("aria-expanded"),f=document.getElementById(d);return"false"===e?(c.setAttribute("aria-expanded",!0),c.text=f.dataset.buttonLess||b.settings.buttonText.less,b.switch(f,!1)):(c.setAttribute("aria-expanded",!1),c.text=f.dataset.buttonMore||b.settings.buttonText.more,b.switch(f,!0)),!1}}}
